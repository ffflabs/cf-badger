import{o as e,c as t,a as o,b as a,r,d as s,e as n,w as l,u as i,f as c,D as d,g as u,T as h,h as p,i as m,j as g,k as f,l as b,m as x,n as w,p as y,q as v,s as k,t as _,v as C,x as R,y as U,z as $,F as A,A as L,B as S,C as E,E as j,G as M,H as I}from"./vendor.81dbef3b.js";let B;const z={},T=function(e,t){if(!t||0===t.length)return e();if(void 0===B){const e=document.createElement("link").relList;B=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`/${e}`)in z)return;z[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":B,t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e()))},P={},D={class:"flex flex-col justify-between items-stretch mt-3 pt-1 text-gray-700"},H=[o('<div class="flex-grow flex-shrink-0 px-6 pt-0 -mt-5 pb-3" style="padding-top:0;"><div class="relative flex-grow my-0 mx-auto w-auto text-center" style="max-width:1344px;"><header class="flex justify-center items-center p-3 cursor-pointer"><div class="flex flex-col items-center text-left"><figure class="block relative p-0 my-0 mx-8"><img src="https://cf-badger.com/images/cf-badger-round-corners.svg" style="height:72px;" class="inline-block w-full max-w-full h-16"></figure><h4 style="display:block;line-height:1.125;" class="block p-0 mx-0 mt-0 mb-2 text-lg pt-2  font-semibold text-gray-800"> Safe status badges for private repos </h4></div></header></div></div>',1)];P.render=function(o,a){return e(),t("section",D,H)};const O={},V={class:"form-line relative pt-4 mx-auto  shadow-xs px-1  max-w-3xl"},N={class:"grid grid-cols-12 gap-6"};O.render=function(o,s){return e(),t("div",V,[a("div",N,[r(o.$slots,"default")])])};const W={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},q=[a("path",{d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2zm0 26a12 12 0 1 1 12-12a12 12 0 0 1-12 12z",fill:"currentColor"},null,-1),a("circle",{cx:"16",cy:"23.5",r:"1.5",fill:"currentColor"},null,-1),a("path",{d:"M17 8h-1.5a4.49 4.49 0 0 0-4.5 4.5v.5h2v-.5a2.5 2.5 0 0 1 2.5-2.5H17a2.5 2.5 0 0 1 0 5h-2v4.5h2V17a4.5 4.5 0 0 0 0-9z",fill:"currentColor"},null,-1)];var F={name:"carbon-help",render:function(o,a){return e(),t("svg",W,q)}};const G={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Y=[a("path",{d:"M26 18a3.995 3.995 0 0 0-3.858 3H18a3.003 3.003 0 0 1-3-3v-4a4.951 4.951 0 0 0-1.026-3h8.168a4 4 0 1 0 0-2H9.858a4 4 0 1 0 0 2H10a3.003 3.003 0 0 1 3 3v4a5.006 5.006 0 0 0 5 5h4.142A3.994 3.994 0 1 0 26 18zm0-10a2 2 0 1 1-2 2a2.002 2.002 0 0 1 2-2zM6 12a2 2 0 1 1 2-2a2.002 2.002 0 0 1-2 2zm20 12a2 2 0 1 1 2-2a2.003 2.003 0 0 1-2 2z",fill:"currentColor"},null,-1)];var J={name:"carbon-branch",render:function(o,a){return e(),t("svg",G,Y)}};const K={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Q=[a("path",{d:"M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.71 3.71 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2z","fill-rule":"evenodd",fill:"currentColor"},null,-1)];var X={name:"carbon-logo-github",render:function(o,a){return e(),t("svg",K,Q)}};const Z={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},ee=[a("path",{d:"M11 24h10v2H11z",fill:"currentColor"},null,-1),a("path",{d:"M13 28h6v2h-6z",fill:"currentColor"},null,-1),a("path",{d:"M16 2A10 10 0 0 0 6 12a9.19 9.19 0 0 0 3.46 7.62c1 .93 1.54 1.46 1.54 2.38h2c0-1.84-1.11-2.87-2.19-3.86A7.2 7.2 0 0 1 8 12a8 8 0 0 1 16 0a7.2 7.2 0 0 1-2.82 6.14c-1.07 1-2.18 2-2.18 3.86h2c0-.92.53-1.45 1.54-2.39A9.18 9.18 0 0 0 26 12A10 10 0 0 0 16 2z",fill:"currentColor"},null,-1)];var te={name:"carbon-idea",render:function(o,a){return e(),t("svg",Z,ee)}};const oe={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ae=a("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1),re={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-2 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full sm:p-2"},se={class:"hidden sm:block absolute top-0 right-0 pt-2 pr-4"},ne=a("span",{class:"sr-only"},"Close",-1),le={class:"sm:flex sm:items-start"},ie={class:"mt-0 text-center sm:mt-0 sm:ml-4 sm:text-left"},ce=f(" Workflow Status Badges on "),de=f(" Private Repos = "),ue=a("img",{src:"/images/broken.svg",style:{height:"32px",margin:"0 0 -0.35em 0.1em",top:"-5px"},class:"inline relative mt-0 mr-0 ml-px -mb-1 max-w-full h-8"},null,-1),he=a("div",{class:"mt-1"},[a("hr"),a("p",{class:"mt-3 text-gray-600"},[f(" Unless requested by a logged in user, status badges for Github private repos will show up as "),a("b",null,"broken images"),f(". ")]),a("p",{class:" text-gray-600 mt-2"}," What if you need to display them publicly, eg: for Github Pages, public wikis, custom health dashboards or even for previewing your README contents in your IDE? "),a("figure",{class:"block relative pt-5 mt-5"},[a("img",{src:"https://cf-badger.com/images/before_and_after200.svg",width:"350",style:{width:"350px",margin:"0 auto"},class:"block my-0 mx-auto w-64 max-w-full h-auto"})]),a("small",{style:{width:"96%",color:"rgb(153, 153, 153)",display:"block","font-size":"0.9em","text-align":"center"},class:"block text-sm leading-5 text-center text-gray-500"},[f("From broken"),a("span",{style:{display:"inline-block",width:"10em"},class:"inline-block w-40"}," "),f("to flawless   ")]),a("br",{class:""}),a("p",{class:"mt-4 text-gray-600"}," CF-Badger creates public short-urls displaying workflow statuses for your private repos. Your personal access token is stored on our side and isn't ever exposed. ")],-1),pe={class:"mt-5 py-2 -mx-2 -mb-4 sm:mt-4 bg-gray-200 px-2 relative ",style:{bottom:"-0.5em"}},me=a("div",null,[f("    CF-Badger is also my project for the "),a("a",{href:"https://blog.cloudflare.com/developer-summer-challenge/",class:"text-orange-600 no-underline cursor-pointer hover:text-gray-800"},"Cloudflare's Developer Summer Challenge")],-1);var ge=s({props:{open:Boolean},setup:t=>(o,r)=>{const s=J,f=X,b=te;return e(),n(i(g),{as:"template",show:t.open},{default:l((()=>[c(i(d),{as:"div",class:"fixed z-10 inset-0 overflow-y-auto",onClose:r[1]||(r[1]=e=>t.open=!1)},{default:l((()=>[a("div",oe,[c(i(h),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l((()=>[c(i(u),{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})])),_:1}),ae,c(i(h),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:l((()=>[a("div",re,[a("div",se,[a("button",{type:"button",class:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-none ",onClick:r[0]||(r[0]=e=>t.open=!1)},[ne,c(i(p),{class:"h-6 w-6","aria-hidden":"true"})])]),a("div",le,[a("div",ie,[c(i(m),{as:"h3",class:"text-xl leading-6 mt-1  font-large text-gray-900"},{default:l((()=>[c(s,{style:{"font-size":"1.5em",left:"0",top:"-1px"},class:"relative inline text-lg"}),ce,c(f,{style:{"font-size":"1.4em",left:"0",top:"0px"},class:"relative inline text-lg"}),de,ue])),_:1}),he])]),a("div",pe,[c(b,{class:"h-8 w-8 rounded-full text-orange-600",style:{position:"relative",top:"-6px","font-size":"1.6em",float:"left",display:"inline-block"}}),me])])])),_:1})])])),_:1})])),_:1},8,["show"])}});const fe={class:"col-span-12 justify-center pt-0 -mt-1",style:{"text-align":"justify","justify-content":"center"}},be=f(" CF-Badger creates public urls displaying workflow statuses for your private repos without exposing your personal access token, preventing those annoying "),xe=f("broken badge images "),we=f(". ");var ye=s({props:{message:String},setup(o){b(""),x();let r=b(!1);return(o,s)=>{const n=F,l=ge;return e(),t("div",fe,[be,a("a",{class:"text-orange-600 no-underline cursor-pointer hover:text-gray-800",onClick:s[0]||(s[0]=e=>w(r)?r.value=!i(r):r=!i(r))},[xe,c(n,{class:"inline"})]),we,c(l,{open:i(r)},null,8,["open"])])}}});const ve={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},ke=[a("path",{d:"M6 30h12a2.002 2.002 0 0 0 2-2v-3h-2v3H6V4h12v3h2V4a2.002 2.002 0 0 0-2-2H6a2.002 2.002 0 0 0-2 2v24a2.002 2.002 0 0 0 2 2z",fill:"currentColor"},null,-1),a("path",{d:"M20.586 20.586L24.172 17H10v-2h14.172l-3.586-3.586L22 10l6 6l-6 6l-1.414-1.414z",fill:"currentColor"},null,-1)];var _e={name:"carbon-logout",render:function(o,a){return e(),t("svg",ve,ke)}};const Ce={key:0,"aria-live":"assertive",class:"absolute pointer-events-none border-gray-400 shadow-lg border w-full rounded-md z-30 "},Re={class:"w-full flex flex-col items-center space-y-4 sm:items-end"},Ue={key:0,class:"max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden"},$e={class:"p-4"},Ae={class:"flex items-start"},Le={class:"flex-shrink-0"},Se={class:"ml-3 w-0 flex-1 pt-0.5"},Ee={class:"text-sm font-medium text-gray-900"},je={class:"mt-1 text-sm text-gray-500"},Me={class:"ml-4 flex-shrink-0 flex"};var Ie=s({props:{show:Boolean,content1:{type:String,default:""},content2:{type:String,default:""}},setup(o){const s=o;return(o,n)=>s.show?(e(),t("div",Ce,[a("div",Re,[c(y,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:l((()=>[s.show?(e(),t("div",Ue,[a("div",$e,[a("div",Ae,[a("div",Le,[c(i(k),{class:"h-6 w-6 text-green-400","aria-hidden":"true"})]),a("div",Se,[a("p",Ee,_(s.content1),1),a("p",je,_(s.content2),1)]),a("div",Me,[r(o.$slots,"default")])])])])):v("",!0)])),_:3})])])):v("",!0)}});const Be={class:"block text-md  text-left text-gray-800 cursor-default"},ze=f("Connect to Github "),Te={class:"mb-0"},Pe={class:"clear-both relative text-base text-left box-border"},De=["href"],He=f(" Install App "),Oe={key:0,class:"inline-flex items-center px-3 justify-between border-2  shadow-sm text-sm leading-4 font-medium rounded-md text-green-700 no-underline align-top rounded border border-green-400\n             border-solid shadow-none appearance-none cursor-pointer select-none whitespace-no-wrap hover:border-green-500 hover:text-green-800   focus:text-green-800",style:{"margin-top":"-0.05em",width:"calc(50% )"}},Ve=["href"],Ne=f(" Login with Github ");var We=s({props:{login:String,oauthUrl:String,installUrl:String,className:String},emits:["click"],setup(o,{emit:r}){const s=b(!1),n=b("You need to install the app once per acount/organization"),l=b("From then on, available installations are retrieved upon login");return(i,d)=>{const u=X,h=_e,p=Ie;return e(),t("div",{class:C(o.className)},[a("label",Be,[ze,a("button",{type:"button",class:"inline-flex items-center px-2 text-md font-bold border border-transparent rounded-full shadow-sm text-white bg-gray-600 hover:bg-gray-700 focus:outline-none   ",onMouseover:d[0]||(d[0]=e=>s.value=!0),onMouseout:d[1]||(d[1]=e=>s.value=!1)}," ? ",32)]),a("div",Te,[a("div",Pe,[a("a",{class:"inline-flex items-center px-3  border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",style:{width:"calc(50% - 3.5em)","background-image":"linear-gradient(rgb(67, 76, 84) 0%, rgb(57, 65, 72) 35%, rgb(37, 42, 48) 100%)"},href:o.installUrl},[c(u,{style:{height:"1.75rem",width:"1.75rem"},class:"pr-2 text-base h-7 w-7"}),He],8,De),a("span",{style:{position:"relative",top:"-8px"},class:C({"text-transparent":o.login})},"   or   ",2),o.login?(e(),t("button",Oe,[a("span",null,_(o.login),1),c(h,{style:{height:"1.75rem",width:"1.75rem",float:"right"},class:"pr-2 h-7 w-7",onClick:d[2]||(d[2]=e=>r("click","logout"))})])):v("",!0),o.login?v("",!0):(e(),t("a",{key:1,class:"inline-flex items-center px-3  border  shadow-sm text-sm leading-4 font-medium rounded-md text-gray-800 no-underline align-top rounded border border-gray-400 border-solid shadow-none appearance-none cursor-pointer select-none whitespace-no-wrap hover:border-gray-500 hover:text-gray-800 focus:border-blue-600 focus:text-gray-800",style:{"margin-top":"-0.05em",width:"calc(50% )"},href:o.oauthUrl},[c(u,{style:{height:"1.75rem",width:"1.75rem",float:"right"},class:" pr-2 h-7 w-7"}),Ne],8,Ve)),c(p,{show:s.value,content1:n.value,content2:l.value},null,8,["show","content1","content2"])])])],2)}}});const qe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Fe=[a("path",{d:"M13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z",fill:"currentColor"},null,-1)];var Ge={name:"carbon-checkmark",render:function(o,a){return e(),t("svg",qe,Fe)}};const Ye={style:{"padding-top":"0.35rem"}},Je=["for"],Ke=["value"],Qe=["id","tabindex","name","disabled","placeholder"],Xe=["title","value","selected"];var Ze=s({props:{current:{type:Object,default:{id:0,name:""}},label:String,choices:Array,tabindex:String},emits:["change"],setup(o,{emit:r}){const s=o,l=R({get:()=>s.current.id?s.current:{id:0,name:`No ${s.label} discovered yet`},set(e){r("change",e)}});return(r,c)=>{const d=Ge;return e(),t("div",Ye,[a("label",{for:s.label,class:"block text-left text-sm font-medium text-gray-700"},[f(_(s.label),1),i(l).id?(e(),n(d,{key:0,style:{float:"right","font-weight":"bolder",color:"#0c0"},class:"inline right text-green-800"})):v("",!0)],8,Je),o.choices.length?v("",!0):(e(),t("input",{key:0,type:"text",value:`No ${s.label} discovered yet`,readonly:"",class:"bg-gray-200 mt-1 block w-full pl-3 pr-10 py-1 border text-base border-gray-300 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm rounded-md"},null,8,Ke)),o.choices.length?U((e(),t("select",{key:1,id:s.label,"onUpdate:modelValue":c[0]||(c[0]=e=>w(l)?l.value=e:null),tabindex:s.tabindex,name:s.label,disabled:!o.choices.length,class:"bg-white mt-1 block w-full pl-3 pr-10 py-1 border text-base border-gray-300 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm rounded-md",placeholder:o.choices.length?"":`No ${s.label} discovered yet`},[(e(!0),t(A,null,L(o.choices,(o=>(e(),t("option",{key:o.id,title:o.name,value:o,selected:o.id===i(l).id},_(o.name),9,Xe)))),128))],8,Qe)),[[$,i(l)]]):v("",!0)])}}});const et=a("hr",{style:{height:"1.5rem"}},null,-1),tt=a("div",{class:"col-span-3 sm:col-span-4"},[a("h4",{class:"block text-lg p-1  text-right text-gray-800 cursor-default"}," Preview ")],-1),ot={class:"col-span-9 sm:col-span-6"},at={class:"clear-both relative text-base text-left box-border p-1"},rt={class:"mb-0"},st=["href"],nt=["src"];var lt=s({props:{href:String,src:String,className:String},setup(o){const r=o;return(o,s)=>{const n=O;return e(),t(A,null,[et,c(n,{class:"pt-6 mt-6"},{default:l((()=>[tt,a("div",ot,[a("div",at,[a("div",rt,[a("a",{href:r.href,target:"_blank",class:"text-orange-600 no-underline cursor-pointer hover:text-gray-800"},[a("img",{alt:"Build Status",src:r.src,class:"max-w-full h-auto"},null,8,nt)],8,st)])])])])),_:1})],64)}}});const it={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},ct=[a("path",{d:"M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2z",fill:"currentColor"},null,-1),a("path",{d:"M4 18H2V4a2 2 0 0 1 2-2h14v2H4z",fill:"currentColor"},null,-1)];var dt={name:"carbon-copy",render:function(o,a){return e(),t("svg",it,ct)}};const ut={class:"col-span-12"},ht=a("label",{class:"block text-left text-sm font-medium text-gray-700"},"Markdown code to embed your badge",-1),pt={class:"flex justify-start"},mt={class:"clear-both relative flex-grow flex-shrink text-base text-left box-border"},gt=["value"],ft={class:"clear-both relative text-base text-left box-border"},bt={key:0,class:"block text-md  text-left text-gray-800 cursor-default"},xt={key:1,class:"flex justify-start"},wt={class:"clear-both relative flex-grow flex-shrink text-base text-left box-border"},yt=["value"],vt=a("div",{class:"clear-both relative text-base text-left box-border"},[a("button",{class:"inline-flex relative justify-center items-center m-0 h-12 font-sans leading-normal text-white align-top rounded border border-transparent border-solid shadow-none appearance-none cursor-pointer select-none whitespace-no-wrap focus:border-blue-600 focus:text-gray-800 hover:border-gray-500 hover:text-gray-800",style:{height:"3.2em","background-image":"linear-gradient(rgb(67, 76, 84) 0%, rgb(57, 65, 72) 35%, rgb(37, 42, 48) 100%)"}},[a("span",{class:"inline-flex justify-center items-center w-6 h-6"},[a("i",{class:"inline-block not-italic font-black leading-none","aria-hidden":"true",style:{"font-variant":"normal","text-rendering":"auto","font-family":'"Font Awesome 5 Free"'}})])])],-1);var kt=s({props:{htmlSource:String,markdownSource:String},setup(o){const r=o,s=b(!1),i=b(!1),d=()=>{console.log("copying"),(e=>{e.select();try{document.execCommand("copy"),i.value=!0,setTimeout((()=>i.value=!1),1500)}catch(t){console.warn(t),alert("Oops, unable to copy")}})(document.querySelector("#markdownSource"))};return(o,u)=>{const h=Ge,p=dt,m=O;return e(),t(A,null,[c(m,null,{default:l((()=>[a("div",ut,[ht,a("div",pt,[a("div",mt,[a("textarea",{id:"markdownSource",value:r.markdownSource,class:"block relative text-left  p-1 m-0 w-full min-w-full max-w-full h-13 font-sans text-xs leading-normal text-gray-800 align-top whitespace-pre-wrap rounded-sm border border-gray-400 border-solid appearance-none cursor-text resize-y shadow-xs focus:border-blue-600 focus:shadow-xs hover:border-gray-500",rows:"4","aria-multiline":"true",placeholder:"e.g. Hello world",style:{"overflow-wrap":"break-word"},readonly:""},null,8,gt)]),a("div",ft,[a("button",{class:C(["inline-flex w-12 relative justify-center items-center m-0 h-12 font-sans leading-normal text-white align-top rounded border\n             border-transparent border-solid shadow-none appearance-none cursor-pointer select-none whitespace-no-wrap focus:border-orange-600 hover:border-gray-500 ",{"hover:text-gray-800 focus:text-gray-800 ":!i.value,"text-bold":i.value}]),style:{height:"3.24em",left:"-3px","background-image":"linear-gradient(rgb(67, 76, 84) 0%, rgb(57, 65, 72) 35%, rgb(37, 42, 48) 100%)"},onClick:d},[i.value?(e(),n(h,{key:0,style:{transform:"scale(1.2)"}})):(e(),n(p,{key:1}))],2)])])])])),_:1}),c(m,null,{default:l((()=>[s.value?(e(),t("label",bt,"HTML")):v("",!0),s.value?(e(),t("div",xt,[a("div",wt,[a("input",{ref:htmlInput,class:"inline-flex relative justify-start items-center m-0 w-full max-w-full h-8 font-sans text-sm leading-normal\n          text-gray-800 align-top rounded border border-gray-400 border-solid shadow-none appearance-none cursor-text\n          focus:border-blue-600 focus:shadow-xs hover:border-gray-500",type:"text",readonly:"readonly",value:r.htmlSource},null,8,yt)]),vt])):v("",!0)])),_:1})],64)}}});function _t(e,t){const o=(_t.canvas||(_t.canvas=document.createElement("canvas"))).getContext("2d");o.font=t;return o.measureText(e).width}function Ct(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)}const Rt=s({props:{owner:{type:String,required:!1,default:""},repo:{type:String,required:!1,default:""},apiUrl:{type:String,default:"https://cf-badger.com"}},setup:()=>({}),data:()=>({url:new URL(location.href),showHtml:!1,repository:{},modalActive:!1,style:{id:"for-the-badge",name:"for-the-badge"},mask:"W/R",branch:{},privateRepo:!1,token:"",workflows:[],installations:[],workflow:{},hashHex:"",branches:[],tokenInputType:"password",login:"",installation:{},repos:[],maskedInput:null}),computed:{styles:()=>[{id:"for-the-badge",name:"for-the-badge"},{id:"flat",name:"flat"},{id:"flat-square",name:"flat-square"},{id:"plastic",name:"plastic"},{id:"popout",name:"popout"},{id:"popout-square",name:"popout-square"},{id:"social",name:"social"}],WorkflowTitle(){return this.workflows.length?{content:"Workflow",color:"color:black"}:{content:"Select repo to enable workflow selection",color:"color:#aaa"}},BranchesTitle(){return this.branches.length?{content:"Branch",color:"color:black"}:{content:"Pick a Workflow to enable selection",color:"color:#aaa"}},badgeURL(){const e=this.style.name||"for-the-badge";return`${this.hashHex?`${this.endpointUrl}/endpoint.svg`:`${this.baseUrl}/images/endpoint.svg`}?branch=${this.branch.name||"master"}&style=${e}`},endpointUrl(){return this.hashHex?`${this.baseUrl}/badger/${this.hashHex}`:`${this.repoUrl}/${this.workflow.id||0}`},baseUrl:()=>`${location.protocol}//${location.host}`,viewerUrl(){return`${this.baseUrl}/badger`},logoutUrl(){return`${this.baseUrl}/bdg/_logout`},installationUrl(){return`${this.viewerUrl}/${String(this.installation.id)}`},repoUrl(){return`${this.installationUrl}/${String(this.repository.name)}`},gotoURL(){return this.workflow.filename_url},markdownSource(){return`[![${this.workflow.name||"N/A"}](${this.badgeURL})](${this.gotoURL})`},oauthUrl(){return`${this.baseUrl}/bdg/oauth`},installUrl(){return`${this.baseUrl}/bdg/install`},htmlSource(){return`<a href="${this.gotoURL}"><img alt="${this.workflow.name}" src="${this.badgeURL}" /></a>`}},watch:{$route(e){if(e.hash){const{code:t,installation_id:o}=Object.fromEntries(new URLSearchParams(e.hash.replace("#","")));this.authenticate({code:t,installation_id:o})}}},mounted(){console.log(`mounted! ${location.href}`),globalThis.BadgerComponent=this,this.getInstallations()},created(){console.log(`created! ${location.href}`)},methods:{getWidth:e=>_t(e.value||e.innerText,function(e=document.body){return`${Ct(e,"font-weight")||"normal"} ${Ct(e,"font-size")||"16px"} ${Ct(e,"font-family")||"Times New Roman"}`}(e)),authenticate({code:e,installation_id:t}){fetch(`${this.baseUrl}/bdg/code`,{method:"POST",body:JSON.stringify({code:e,installation_id:t}),headers:{"content-type":"application/json"}}).then((e=>e.json())).then((({login:e,installations:o})=>{if(location.hash="",this.parseAuthRequest({login:e,installations:o}),t){const e=this.installations.find((e=>e.id===t));e&&this.changeInstallation(e)}}))},keypress(e){console.log(e)},logout(){console.log("LOGOUT"),setTimeout((()=>this.$refs.logoutform.submit()),1e3)},getWorkFlows(){if(this.repository.name)return fetch(`${this.repoUrl}`).then((e=>e.json())).then((e=>this.workflows=e.workflows));console.warn("NO REPO NAME",this.repository)},parseAuthRequest({login:e,installations:t,public_repos:o}){if(e&&(this.login=e),t&&t.length){this.installations=t.map((e=>({name:e.login,id:e.installationId})));const e=this.installations.find((e=>e.name.toLowerCase()===this.owner.toLowerCase()));e&&this.changeInstallation(e)}else o&&o.length&&(this.repos=o)},getInstallations(){return fetch(this.viewerUrl).then((e=>e.json())).then(((e={})=>{const{login:t,installations:o,public_repos:a}=e;return this.parseAuthRequest({login:t,installations:o,public_repos:a})}))},getBranches(){return fetch(`${this.repoUrl}/${this.workflow.id}`).then((e=>e.json())).then((({branches:e,hashHex:t})=>{this.branches=e.map((e=>({id:e.id,name:e.head_branch}))),this.$nextTick((()=>this.changeBranch(this.branches[0]))),this.hashHex=`_${t}`}))},async getRepos(){if(!this.installation.name)return!1;const e=await fetch(this.installationUrl);this.repos=(await e.json()).repositories.map((e=>({id:e.id,name:e.name})));const t=this.repos.find((e=>e.name.toLowerCase()===this.repo.toLowerCase()));t&&this.changeRepo(t)},toggleModal(){this.modalActive=!this.modalActive},emitChange(e){this.style=b(e),console.log({emitChange:e,style:this.style})},changeInstallation(e){this.installation=e,this.installation.name&&(console.log({owner:this.owner,installationName:this.installation.name,newInstallation:e,installation:this.installation}),this.owner&&this.installation.name.toLowerCase()!==this.owner.toLowerCase()&&this.gotoInstallation(),this.getRepos())},gotoInstallation(){this.$router.push(`/${encodeURIComponent(this.installation.name)}`)},gotoRepo(){this.$router.push(`/${encodeURIComponent(this.installation.name)}/${encodeURIComponent(this.repository.name)}`)},changeRepo(e){this.repository=e,console.log({newRepo:e,repository:this.repository}),this.repository.id&&(this.repo&&this.repository.name.toLowerCase()!==this.repo.toLowerCase()?this.gotoRepo():this.getWorkFlows())},changeBranch(e){this.branch=e},changeWorkflow(e){this.workflow=e,console.log({newWf:e,workflow:this.workflow}),this.workflow.id&&this.getBranches()}}}),Ut={class:"block text-gray-700 relative flex-grow my-0 mx-auto w-auto justify-center -m-3",style:{"justify-content":"center"}},$t={ref:"container",class:"px-1 pt-4 pb-4 mx-auto mb-0 -mt-8 max-w-3xl ",style:{"flex-basis":"0px"}},At={class:"col-span-12 sm:col-span-6"},Lt={class:"col-span-12 sm:col-span-6"},St={class:"col-span-12 sm:col-span-6"},Et={class:"col-span-12 sm:col-span-6"},jt={class:"col-span-12 sm:col-span-6"},Mt=["action"],It=[a("input",{type:"hidden",value:"logout"},null,-1)];Rt.render=function(o,r,s,n,i,d){const u=O,h=ye,p=We,m=Ze,g=lt,f=kt;return e(),t("section",Ut,[a("div",$t,[c(u),c(h,{class:"col-span-12"}),c(u,null,{default:l((()=>[c(p,{login:o.login,"oauth-url":o.oauthUrl,"install-url":o.installUrl,"class-name":"col-span-12 sm:col-span-6",onClick:o.logout},null,8,["login","oauth-url","install-url","onClick"]),a("div",At,[c(m,{ref:"installations",choices:o.installations,current:o.installation,empty:"None selected",label:"Account or Organization",tabindex:"0",onChange:o.changeInstallation},null,8,["choices","current","onChange"])])])),_:1}),c(u,null,{default:l((()=>[a("div",Lt,[c(m,{ref:"repos",choices:o.repos,current:o.repository,empty:"No repository selected",label:"Repository",tabindex:"1",onChange:o.changeRepo},null,8,["choices","current","onChange"])]),a("div",St,[c(m,{ref:"workflows",choices:o.workflows,current:o.workflow,empty:"No workflow selected",label:"Workflow",tabindex:"2",onChange:o.changeWorkflow},null,8,["choices","current","onChange"])]),a("div",Et,[c(m,{ref:"branches",choices:o.branches,current:o.branch,empty:"No branch selected",label:"Branch",tabindex:"3",onChange:o.changeBranch},null,8,["choices","current","onChange"])]),a("div",jt,[c(m,{choices:o.styles,current:o.style,empty:"No style selected",label:"Badge Style",tabindex:"4",onChange:o.emitChange},null,8,["choices","current","onChange"])])])),_:1}),c(g,{href:o.gotoURL,src:o.badgeURL,"class-name":"col-span-12 border"},null,8,["href","src"]),c(f,{ref:"markdown","html-source":o.htmlSource,"markdown-source":o.markdownSource},null,8,["html-source","markdown-source"]),a("form",{ref:"logoutform",action:o.logoutUrl,method:"post"},It,8,Mt)],512)])};var Bt=s({setup:o=>(o,a)=>{const r=P,s=Rt;return e(),t(A,null,[c(r),c(s,{api_url:i("https://cf-badger.com")},null,8,["api_url"])],64)}}),zt={};"function"==typeof zt&&zt(Bt);const Tt=[{name:"home",path:"/",component:Bt,props:!0,meta:{layout:"home"}},{name:"about",path:"/about",component:()=>T((()=>import("./about.a06f3142.js")),["assets/about.a06f3142.js","assets/vendor.81dbef3b.js"]),props:!0,meta:{propsGetter:!1}},{name:"README",path:"/readme",component:()=>T((()=>import("./README.0ce3fb14.js")),["assets/README.0ce3fb14.js","assets/vendor.81dbef3b.js"]),props:!0,meta:{propsGetter:!1}},{name:"installation-name",path:"/:installation/:name",component:()=>T((()=>import("./[name].475ff279.js")),["assets/[name].475ff279.js","assets/vendor.81dbef3b.js"]),props:!0},{name:"installation",path:"/:installation",component:()=>T((()=>import("./index.2129589a.js")),["assets/index.2129589a.js","assets/vendor.81dbef3b.js"]),props:!0},{name:"all",path:"/:all(.*)*",component:()=>T((()=>import("./[...all].33149dfa.js")),["assets/[...all].33149dfa.js","assets/vendor.81dbef3b.js"]),props:!0,meta:{layout:404,propsGetter:!1}}];var Pt="/images/cf-workers-badge.svg",Dt="/images/cf-pages-badge.svg";const Ht={},Ot={class:"mx-auto px-6 pt-10 pb-4 text-gray-700 bg-gray-100 w-full"},Vt={class:"block text-gray-700 relative flex-grow my-0 mx-auto w-auto justify-center -m-3",style:{"justify-content":"center"}},Nt={ref:"container",class:"px-1 pt-4 pb-4 mx-auto mb-0 -mt-8 max-w-3xl ",style:{"flex-basis":"0px"}},Wt=a("div",{class:"col-span-12"},[a("p",{class:"p-0 mx-0 mb-0 -mt-4  text-sm text-justify"},[f(" Please note that, if you intend to display workflow status badges for public repos, you can use Shields.io direcly. Just look in their "),a("a",{href:"https://shields.io/category/build",class:"text-orange-600 no-underline cursor-pointer hover:text-gray-800"},"Builds Category"),f(" for Github Workflows section. ")])],-1),qt=a("div",{class:"col-span-12 sm:col-span-6 text-center"},[a("a",{class:"inline-flex relative justify-center items-center h-8 leading-normal text-gray-800 no-underline align-top bg-white rounded border border-gray-400 border-solid shadow-none appearance-none cursor-pointer select-none whitespace-no-wrap hover:border-gray-500 hover:text-gray-800 focus:border-blue-600 focus:text-gray-800",href:"https://workers.cloudflare.com"},[a("span",{style:{"vertical-align":"super","font-weight":"bold"},class:""},"built-with   "),a("img",{style:{display:"inline"},src:"/images/cf-workers-badge.svg",class:"inline max-w-full h-auto"})])],-1),Ft=a("div",{class:"col-span-12 sm:col-span-6 text-center"},[a("a",{class:"inline-flex relative justify-center items-center h-8 leading-normal text-gray-800 no-underline align-top bg-white rounded border border-gray-400 border-solid shadow-none appearance-none cursor-pointer select-none whitespace-no-wrap hover:border-gray-500 hover:text-gray-800 focus:border-blue-600 focus:text-gray-800",href:"https://pages.cloudflare.com"},[a("span",{style:{"vertical-align":"super","font-weight":"bold"},class:""}," and   "),a("img",{style:{display:"inline"},src:"/images/cf-pages-badge.svg",class:"inline max-w-full h-auto"})])],-1),Gt=a("div",{class:"col-span-12",style:{"text-align":"center","font-size":"0.9em"}},[a("strong",null,"CF-Badger"),f("'s was inspired by "),a("a",{href:"https://actions-badge.atrox.dev/",class:"text-orange-600 no-underline cursor-pointer hover:text-gray-800"},"Atrox's Actions Badge"),f(". ")],-1);Ht.render=function(o,r){const s=O;return e(),t("footer",Ot,[a("section",Vt,[a("div",Nt,[c(s,null,{default:l((()=>[Wt])),_:1}),c(s,null,{default:l((()=>[qt,Ft])),_:1}),c(s,null,{default:l((()=>[Gt])),_:1})],512)])])};const Yt={},Jt={class:"px-4 py-10 text-center text-gray-700 dark:text-gray-200"},Kt=a("div",{class:"mt-5 mx-auto text-center opacity-25 text-sm"}," [Default Layout] ",-1);Yt.render=function(o,a){const r=S("router-view"),s=Ht;return e(),t("main",Jt,[c(r,E(j(o.$attrs)),null,16),c(s),Kt])};const Qt={404:()=>T((()=>import("./404.0c8b344a.js")),["assets/404.0c8b344a.js","assets/vendor.81dbef3b.js"]),default:Yt,home:()=>T((()=>import("./home.866071be.js")),["assets/home.866071be.js","assets/vendor.81dbef3b.js"])};var Xt=s({setup(t){const o="CF-Badger",a="CF-Badger lets you safely publish status badger for private Github repos";return M({title:o,meta:[{name:"description",content:a},{name:"description",content:a},{property:"og:title",content:o},{property:"og:image",content:"https://cf-badger.com/cf-badger-round-corners.svg"}]}),(t,o)=>{const a=S("router-view");return e(),n(a)}}});const Zt=Tt.map((e=>{var t;return{path:e.path,component:Qt[(null==(t=e.meta)?void 0:t.layout)||"default"],children:[e]}}));console.log({env:{VITE_API_URL:"https://cf-badger.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}}),I(Xt,{routes:Zt,base:({url:e})=>(console.log({url:e,env:{VITE_API_URL:"https://cf-badger.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}}),"/")},(async e=>{console.log({VITEDGE_API_URL:{}.VITEDGE_API_URL,VITE_API_URL:"https://cf-badger.com"})}));export{Rt as B,Pt as _,Dt as a,P as b,X as c,Ht as d};
