import{o as e,c as t,a as o,b as r,d as s,e as a,w as l,u as n,f as i,D as c,g as d,T as u,r as h,h as p,i as m,j as g,k as f,l as x,m as b,n as w,p as y,q as v,t as k,s as _,v as C,x as R,y as U,z as $,F as A,A as L,B as E,C as S,E as j,G as M,H as I}from"./vendor.eb742c19.js";let B;const z={},P=function(e,t){if(!t||0===t.length)return e();if(void 0===B){const e=document.createElement("link").relList;B=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if((e=`/${e}`)in z)return;z[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":B,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e()))},D={},H={class:"flex flex-col justify-between items-stretch mt-3 pt-1 text-gray-700"},T=[o('<div class="flex-grow flex-shrink-0 px-6 pt-0 -mt-5 pb-6" style="padding-top:0;"><div class="relative flex-grow my-0 mx-auto w-auto text-center" style="max-width:1344px;"><header class="flex justify-center items-center p-3 cursor-pointer"><div class="flex flex-col items-center text-left"><figure class="block relative p-0 my-0 mx-8"><img src="https://cf-badger.com/images/cf-badger-round-corners.svg" style="height:72px;" class="inline-block w-full max-w-full h-16"></figure><h4 style="display:block;line-height:1.125;" class="block p-0 mx-0 mt-0 mb-3 text-lg pt-2  font-semibold text-gray-800"> Safe status badges for private repos </h4></div></header><div class=""></div></div></div>',1)];D.render=function(o,r){return e(),t("section",H,T)};const V={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},O=[r("path",{d:"M16 2a14 14 0 1 0 14 14A14 14 0 0 0 16 2zm0 26a12 12 0 1 1 12-12a12 12 0 0 1-12 12z",fill:"currentColor"},null,-1),r("circle",{cx:"16",cy:"23.5",r:"1.5",fill:"currentColor"},null,-1),r("path",{d:"M17 8h-1.5a4.49 4.49 0 0 0-4.5 4.5v.5h2v-.5a2.5 2.5 0 0 1 2.5-2.5H17a2.5 2.5 0 0 1 0 5h-2v4.5h2V17a4.5 4.5 0 0 0 0-9z",fill:"currentColor"},null,-1)];var W={name:"carbon-help",render:function(o,r){return e(),t("svg",V,O)}};const F={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},G=[r("path",{d:"M26 18a3.995 3.995 0 0 0-3.858 3H18a3.003 3.003 0 0 1-3-3v-4a4.951 4.951 0 0 0-1.026-3h8.168a4 4 0 1 0 0-2H9.858a4 4 0 1 0 0 2H10a3.003 3.003 0 0 1 3 3v4a5.006 5.006 0 0 0 5 5h4.142A3.994 3.994 0 1 0 26 18zm0-10a2 2 0 1 1-2 2a2.002 2.002 0 0 1 2-2zM6 12a2 2 0 1 1 2-2a2.002 2.002 0 0 1-2 2zm20 12a2 2 0 1 1 2-2a2.003 2.003 0 0 1-2 2z",fill:"currentColor"},null,-1)];var N={name:"carbon-branch",render:function(o,r){return e(),t("svg",F,G)}};const q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Y=[r("path",{d:"M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.71 3.71 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2z","fill-rule":"evenodd",fill:"currentColor"},null,-1)];var J={name:"carbon-logo-github",render:function(o,r){return e(),t("svg",q,Y)}};const K={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Q=[r("path",{d:"M11 24h10v2H11z",fill:"currentColor"},null,-1),r("path",{d:"M13 28h6v2h-6z",fill:"currentColor"},null,-1),r("path",{d:"M16 2A10 10 0 0 0 6 12a9.19 9.19 0 0 0 3.46 7.62c1 .93 1.54 1.46 1.54 2.38h2c0-1.84-1.11-2.87-2.19-3.86A7.2 7.2 0 0 1 8 12a8 8 0 0 1 16 0a7.2 7.2 0 0 1-2.82 6.14c-1.07 1-2.18 2-2.18 3.86h2c0-.92.53-1.45 1.54-2.39A9.18 9.18 0 0 0 26 12A10 10 0 0 0 16 2z",fill:"currentColor"},null,-1)];var X={name:"carbon-idea",render:function(o,r){return e(),t("svg",K,Q)}};const Z={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ee=r("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1),te={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-2 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full sm:p-2"},oe={class:"hidden sm:block absolute top-0 right-0 pt-2 pr-4"},re=r("span",{class:"sr-only"},"Close",-1),se={class:"sm:flex sm:items-start"},ae={class:"mt-0 text-center sm:mt-0 sm:ml-4 sm:text-left"},le=g(" Workflow Status Badges on "),ne=g(" Private Repos = "),ie=r("img",{src:"/images/broken.svg",style:{height:"32px",margin:"0 0 -0.35em 0.1em",top:"-5px"},class:"inline relative mt-0 mr-0 ml-px -mb-1 max-w-full h-8"},null,-1),ce=r("div",{class:"mt-1"},[r("hr"),r("p",{class:"mt-3 text-gray-600"},[g(" Unless requested by a logged in user, status badges for Github private repos will show up as "),r("b",null,"broken images"),g(". ")]),r("p",{class:" text-gray-600 mt-2"}," What if you need to display them publicly, eg: for Github Pages, public wikis, custom health dashboards or even for previewing your README contents in your IDE? "),r("figure",{class:"block relative pt-5 mt-5"},[r("img",{src:"https://cf-badger.com/images/before_and_after200.svg",width:"350",style:{width:"350px",margin:"0 auto"},class:"block my-0 mx-auto w-64 max-w-full h-auto"})]),r("small",{style:{width:"96%",color:"rgb(153, 153, 153)",display:"block","font-size":"0.9em","text-align":"center"},class:"block text-sm leading-5 text-center text-gray-500"},[g("From broken"),r("span",{style:{display:"inline-block",width:"10em"},class:"inline-block w-40"}," "),g("to flawless   ")]),r("br",{class:""}),r("p",{class:"mt-4 text-gray-600"}," CF-Badger creates public short-urls displaying workflow statuses for your private repos. Your personal access token is stored on our side and isn't ever exposed. ")],-1),de={class:"mt-5 py-2 -mx-2 -mb-4 sm:mt-4 bg-gray-200 px-2 relative ",style:{bottom:"-0.5em"}},ue=r("div",null,[g("    CF-Badger is also my project for the "),r("a",{href:"https://blog.cloudflare.com/developer-summer-challenge/",class:"text-orange-600 no-underline cursor-pointer hover:text-gray-800"},"Cloudflare's Developer Summer Challenge")],-1);var he=s({props:{open:Boolean},setup:t=>(o,s)=>{const g=N,f=J,x=X;return e(),a(n(m),{as:"template",show:t.open},{default:l((()=>[i(n(c),{as:"div",class:"fixed z-10 inset-0 overflow-y-auto",onClose:s[1]||(s[1]=e=>t.open=!1)},{default:l((()=>[r("div",Z,[i(n(u),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l((()=>[i(n(d),{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})])),_:1}),ee,i(n(u),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:l((()=>[r("div",te,[r("div",oe,[r("button",{type:"button",class:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-none ",onClick:s[0]||(s[0]=e=>t.open=!1)},[re,i(n(h),{class:"h-6 w-6","aria-hidden":"true"})])]),r("div",se,[r("div",ae,[i(n(p),{as:"h3",class:"text-xl leading-6 mt-1  font-large text-gray-900"},{default:l((()=>[i(g,{style:{"font-size":"1.5em",left:"0",top:"-1px"},class:"relative inline text-lg"}),le,i(f,{style:{"font-size":"1.4em",left:"0",top:"0px"},class:"relative inline text-lg"}),ne,ie])),_:1}),ce])]),r("div",de,[i(x,{class:"h-8 w-8 rounded-full text-orange-600",style:{position:"relative",top:"-6px","font-size":"1.6em",float:"left",display:"inline-block"}}),ue])])])),_:1})])])),_:1})])),_:1},8,["show"])}});const pe={class:"justify-center -mx-3 -mt-3",style:{"justify-content":"center"}},me={class:"flex-grow flex-shrink p-3  -mt-4 mx-auto w-4/5 text-center lg:flex-none lg:w-2/3",style:{"text-align":"center","flex-basis":"0px"}},ge={style:{"line-height":"1.4em"},class:"px-1 pt-0 pb-8 mx-auto mb-0 max-w-3xl leading-5 text-justify"},fe=g(" CF-Badger creates public urls displaying workflow statuses for your private repos without exposing your personal access token, preventing those annoying "),xe=g("broken badge images "),be=g(". ");var we=s({props:{message:String},setup(o){f(""),x();let s=f(!1);return(o,a)=>{const l=W,c=he;return e(),t("div",pe,[r("div",me,[r("div",ge,[fe,r("a",{class:"text-orange-600 no-underline cursor-pointer hover:text-gray-800",onClick:a[0]||(a[0]=e=>b(s)?s.value=!n(s):s=!n(s))},[xe,i(l,{class:"inline"})]),be])]),i(c,{open:n(s)},null,8,["open"])])}}});const ye={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},ve=[r("path",{d:"M6 30h12a2.002 2.002 0 0 0 2-2v-3h-2v3H6V4h12v3h2V4a2.002 2.002 0 0 0-2-2H6a2.002 2.002 0 0 0-2 2v24a2.002 2.002 0 0 0 2 2z",fill:"currentColor"},null,-1),r("path",{d:"M20.586 20.586L24.172 17H10v-2h14.172l-3.586-3.586L22 10l6 6l-6 6l-1.414-1.414z",fill:"currentColor"},null,-1)];var ke={name:"carbon-logout",render:function(o,r){return e(),t("svg",ye,ve)}};const _e={key:0,"aria-live":"assertive",class:"absolute pointer-events-none border-gray-400 shadow-lg border w-full rounded-md z-30 "},Ce={class:"w-full flex flex-col items-center space-y-4 sm:items-end"},Re={key:0,class:"max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden"},Ue={class:"p-4"},$e={class:"flex items-start"},Ae={class:"flex-shrink-0"},Le={class:"ml-3 w-0 flex-1 pt-0.5"},Ee={class:"text-sm font-medium text-gray-900"},Se={class:"mt-1 text-sm text-gray-500"},je={class:"ml-4 flex-shrink-0 flex"};var Me=s({props:{show:Boolean,content1:{type:String,default:""},content2:{type:String,default:""}},setup(o){const s=o;return(o,a)=>s.show?(e(),t("div",_e,[r("div",Ce,[i(w,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:l((()=>[s.show?(e(),t("div",Re,[r("div",Ue,[r("div",$e,[r("div",Ae,[i(n(v),{class:"h-6 w-6 text-green-400","aria-hidden":"true"})]),r("div",Le,[r("p",Ee,k(s.content1),1),r("p",Se,k(s.content2),1)]),r("div",je,[_(o.$slots,"default")])])])])):y("",!0)])),_:3})])])):y("",!0)}});const Ie={class:"col-span-8 sm:col-span-4"},Be={class:"block text-md  text-left text-gray-800 cursor-default"},ze=g("Connect to Github "),Pe={class:"mb-0"},De={class:"clear-both relative text-base text-left box-border"},He=["href"],Te=g(" Install App "),Ve={key:0,class:"inline-flex items-center px-3 justify-between border-2  shadow-sm text-sm leading-4 font-medium rounded-md text-green-700 no-underline align-top rounded border border-green-400\n             border-solid shadow-none appearance-none cursor-pointer select-none whitespace-no-wrap hover:border-green-500 hover:text-green-800   focus:text-green-800",style:{"margin-top":"-0.05em",width:"calc(50% )"}},Oe=["href"],We=g(" Login with Github ");var Fe=s({props:{login:String,oauthUrl:String,installUrl:String},emits:["click"],setup(o,{emit:s}){const a=f(!1),l=f("You need to install the app once per acount/organization"),n=f("From then on, available installations are retrieved upon login");return(c,d)=>{const u=J,h=ke,p=Me;return e(),t("div",Ie,[r("label",Be,[ze,r("button",{type:"button",class:"inline-flex items-center px-2 text-md font-bold border border-transparent rounded-full shadow-sm text-white bg-gray-600 hover:bg-gray-700 focus:outline-none   ",onMouseover:d[0]||(d[0]=e=>a.value=!0),onMouseout:d[1]||(d[1]=e=>a.value=!1)}," ? ",32)]),r("div",Pe,[r("div",De,[r("a",{class:"inline-flex items-center px-3  border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",style:{width:"calc(50% - 3.5em)","background-image":"linear-gradient(rgb(67, 76, 84) 0%, rgb(57, 65, 72) 35%, rgb(37, 42, 48) 100%)"},href:o.installUrl},[i(u,{style:{height:"1.75rem",width:"1.75rem"},class:"pr-2 text-base h-7 w-7"}),Te],8,He),r("span",{style:{position:"relative",top:"-8px"},class:C({"text-transparent":o.login})},"   or   ",2),o.login?(e(),t("button",Ve,[r("span",null,k(o.login),1),i(h,{style:{height:"1.75rem",width:"1.75rem",float:"right"},class:"pr-2 h-7 w-7",onClick:d[2]||(d[2]=e=>s("click","logout"))})])):y("",!0),o.login?y("",!0):(e(),t("a",{key:1,class:"inline-flex items-center px-3  border  shadow-sm text-sm leading-4 font-medium rounded-md text-gray-800 no-underline align-top rounded border border-gray-400 border-solid shadow-none appearance-none cursor-pointer select-none whitespace-no-wrap hover:border-gray-500 hover:text-gray-800 focus:border-blue-600 focus:text-gray-800",style:{"margin-top":"-0.05em",width:"calc(50% )"},href:o.oauthUrl},[i(u,{style:{height:"1.75rem",width:"1.75rem",float:"right"},class:" pr-2 h-7 w-7"}),We],8,Oe)),i(p,{show:a.value,content1:l.value,content2:n.value},null,8,["show","content1","content2"])])])])}}});const Ge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Ne=[r("path",{d:"M13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z",fill:"currentColor"},null,-1)];var qe={name:"carbon-checkmark",render:function(o,r){return e(),t("svg",Ge,Ne)}};const Ye={style:{"padding-top":"0.35rem"}},Je=["for"],Ke=["value"],Qe=["id","tabindex","name","disabled","placeholder"],Xe=["title","value","selected"];var Ze=s({props:{current:{type:Object,default:{id:0,name:""}},label:String,choices:Array,tabindex:String},emits:["change"],setup(o,{emit:s}){const l=o,i=R({get:()=>l.current.id?l.current:{id:0,name:`No ${l.label} discovered yet`},set(e){s("change",e)}});return(s,c)=>{const d=qe;return e(),t("div",Ye,[r("label",{for:l.label,class:"block text-left text-sm font-medium text-gray-700"},[g(k(l.label),1),n(i).id?(e(),a(d,{key:0,style:{float:"right","font-weight":"bolder",color:"#0c0"},class:"inline right text-green-800"})):y("",!0)],8,Je),o.choices.length?y("",!0):(e(),t("input",{key:0,type:"text",value:`No ${l.label} discovered yet`,readonly:"",class:"bg-gray-200 mt-1 block w-full pl-3 pr-10 py-1 border text-base border-gray-300 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm rounded-md"},null,8,Ke)),o.choices.length?U((e(),t("select",{key:1,id:l.label,"onUpdate:modelValue":c[0]||(c[0]=e=>b(i)?i.value=e:null),tabindex:l.tabindex,name:l.label,disabled:!o.choices.length,class:"bg-white mt-1 block w-full pl-3 pr-10 py-1 border text-base border-gray-300 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm rounded-md",placeholder:o.choices.length?"":`No ${l.label} discovered yet`},[(e(!0),t(A,null,L(o.choices,(o=>(e(),t("option",{key:o.id,title:o.name,value:o,selected:o.id===n(i).id},k(o.name),9,Xe)))),128))],8,Qe)),[[$,n(i)]]):y("",!0)])}}});const et={},tt={class:"form-line relative pt-4 mx-auto bg-white shadow-xs px-1  max-w-3xl"},ot={class:"grid grid-cols-8 gap-6"};et.render=function(o,s){return e(),t("div",tt,[r("div",ot,[_(o.$slots,"default")])])};const rt={class:"col-span-8 sm:col-span-4"},st=r("label",{class:"block text-md  text-left text-gray-800 cursor-default"},"Preview",-1),at={class:"clear-both relative text-base text-left box-border p-1"},lt={class:"mb-0"},nt=["href"],it=["src"];var ct=s({props:{href:String,src:String},setup(t){const o=t;return(t,s)=>{const n=et;return e(),a(n,null,{default:l((()=>[r("div",rt,[st,r("div",at,[r("div",lt,[r("a",{href:o.href,target:"_blank",class:"text-orange-600 no-underline cursor-pointer hover:text-gray-800"},[r("img",{alt:"Build Status",src:o.src,class:"max-w-full h-auto"},null,8,it)],8,nt)])])])])),_:1})}}});const dt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},ut=[r("path",{d:"M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2z",fill:"currentColor"},null,-1),r("path",{d:"M4 18H2V4a2 2 0 0 1 2-2h14v2H4z",fill:"currentColor"},null,-1)];var ht={name:"carbon-copy",render:function(o,r){return e(),t("svg",dt,ut)}};const pt={class:"col-span-8"},mt=r("label",{class:"block text-md  text-left text-gray-800 cursor-default"},"Copy the resulting Markdown",-1),gt={class:"flex justify-start"},ft={class:"clear-both relative flex-grow flex-shrink text-base text-left box-border"},xt=["value"],bt={class:"clear-both relative text-base text-left box-border"},wt={class:"inline-flex w-8 relative justify-center items-center m-0 h-12 font-sans leading-normal text-white align-top rounded border border-transparent border-solid shadow-none appearance-none cursor-pointer select-none whitespace-no-wrap focus:border-blue-600 focus:text-gray-800 hover:border-gray-500 hover:text-gray-800",style:{height:"3.2em","background-image":"linear-gradient(rgb(67, 76, 84) 0%, rgb(57, 65, 72) 35%, rgb(37, 42, 48) 100%)"}},yt={key:0,class:"block text-md  text-left text-gray-800 cursor-default"},vt={key:1,class:"flex justify-start"},kt={class:"clear-both relative flex-grow flex-shrink text-base text-left box-border"},_t=["value"],Ct=r("div",{class:"clear-both relative text-base text-left box-border"},[r("button",{class:"inline-flex relative justify-center items-center m-0 h-12 font-sans leading-normal text-white align-top rounded border border-transparent border-solid shadow-none appearance-none cursor-pointer select-none whitespace-no-wrap focus:border-blue-600 focus:text-gray-800 hover:border-gray-500 hover:text-gray-800",style:{height:"3.2em","background-image":"linear-gradient(rgb(67, 76, 84) 0%, rgb(57, 65, 72) 35%, rgb(37, 42, 48) 100%)"}},[r("span",{class:"inline-flex justify-center items-center w-6 h-6"},[r("i",{class:"inline-block not-italic font-black leading-none","aria-hidden":"true",style:{"font-variant":"normal","text-rendering":"auto","font-family":'"Font Awesome 5 Free"'}})])])],-1);var Rt=s({props:{htmlSource:String,markdownSource:String},setup(o){const s=o,a=f(!1);return(o,n)=>{const c=ht,d=et;return e(),t(A,null,[i(d,null,{default:l((()=>[r("div",pt,[mt,r("div",gt,[r("div",ft,[r("textarea",{value:s.markdownSource,class:"block relative text-left  p-1 m-0 w-full min-w-full max-w-full h-13 font-sans text-xs leading-normal text-gray-800 align-top whitespace-pre-wrap rounded-sm border border-gray-400 border-solid appearance-none cursor-text resize-y shadow-xs focus:border-blue-600 focus:shadow-xs hover:border-gray-500",rows:"4","aria-multiline":"true",placeholder:"e.g. Hello world",style:{"overflow-wrap":"break-word"},readonly:""},null,8,xt)]),r("div",bt,[r("button",wt,[i(c)])])])])])),_:1}),i(d,null,{default:l((()=>[a.value?(e(),t("label",yt,"HTML")):y("",!0),a.value?(e(),t("div",vt,[r("div",kt,[r("input",{ref:htmlInput,class:"inline-flex relative justify-start items-center m-0 w-full max-w-full h-8 font-sans text-sm leading-normal text-gray-800 align-top rounded border border-gray-400 border-solid shadow-none appearance-none cursor-text focus:border-blue-600 focus:shadow-xs hover:border-gray-500",type:"text",readonly:"readonly",value:s.htmlSource},null,8,_t)]),Ct])):y("",!0)])),_:1})],64)}}});const Ut=s({props:{owner:{type:String,required:!1,default:""},repo:{type:String,required:!1,default:""},apiUrl:{type:String,default:"https://cf-badger.com"}},setup:()=>({}),data:()=>({url:new URL(location.href),showHtml:!1,repository:{},modalActive:!1,style:{name:"",id:0},mask:"W/R",branch:{},privateRepo:!1,token:"",workflows:[],installations:[],workflow:{},hashHex:"",branches:[],tokenInputType:"password",login:"",installation:{},repos:[],maskedInput:null}),computed:{styles(){return this.workflows.length?[{id:"for-the-badge",name:"for-the-badge"},{id:"flat",name:"flat"},{id:"flat-square",name:"flat-square"},{id:"plastic",name:"plastic"},{id:"popout",name:"popout"},{id:"popout-square",name:"popout-square"},{id:"social",name:"social"}]:[]},WorkflowTitle(){return this.workflows.length?{content:"Workflow",color:"color:black"}:{content:"Select repo to enable workflow selection",color:"color:#aaa"}},BranchesTitle(){return this.branches.length?{content:"Branch",color:"color:black"}:{content:"Pick a Workflow to enable selection",color:"color:#aaa"}},badgeURL(){const e=this.style.name||"for-the-badge";return`${this.hashHex?this.endpointUrl:`${this.baseUrl}/images`}/endpoint.svg?branch=${this.branch.name||"master"}&style=${e}`},endpointUrl(){return this.hashHex?`${this.baseUrl}/badger/${this.hashHex}`:`${this.repoUrl}/${this.workflow.id||0}`},baseUrl:()=>`${location.protocol}//${location.host}`,viewerUrl(){return`${this.baseUrl}/badger`},logoutUrl(){return`${this.viewerUrl}/_logout`},installationUrl(){return`${this.viewerUrl}/${String(this.installation.id)}`},repoUrl(){return`${this.installationUrl}/${String(this.repository.name)}`},gotoURL(){return this.workflow.filename_url||""},markdownSource(){return`[![${this.workflow.name||"N/A"}](${this.badgeURL})](${this.gotoURL})`},oauthUrl(){return`${this.baseUrl}/bdg/oauth`},installUrl(){return`${this.baseUrl}/bdg/install`},htmlSource(){return`<a href="${this.gotoURL}"><img alt="Build Status" src="${this.badgeURL}" /></a>`}},watch:{$route(e){if(e.hash){const{code:t,installation_id:o}=Object.fromEntries(new URLSearchParams(e.hash.replace("#","")));this.authenticate({code:t,installation_id:o})}}},mounted(){console.log(`mounted! ${location.href}`),globalThis.BadgerComponent=this,this.getInstallations()},created(){console.log(`created! ${location.href}`)},methods:{authenticate({code:e,installation_id:t}){fetch(`${this.baseUrl}/bdg/code`,{method:"POST",body:JSON.stringify({code:e,installation_id:t}),headers:{"content-type":"application/json"}}).then((e=>e.json())).then((({login:e,installations:t})=>(location.hash="",this.parseAuthRequest({login:e,installations:t}))))},keypress(e){console.log(e)},logout(){console.log("LOGOUT"),setTimeout((()=>this.$refs.logoutform.submit()),1e3)},getWorkFlows(){if(this.repository.name)return fetch(`${this.repoUrl}`).then((e=>e.json())).then((e=>this.workflows=e.workflows));console.warn("NO REPO NAME",this.repository)},parseAuthRequest({login:e,installations:t,public_repos:o}){if(e&&(this.login=e),t&&t.length){this.installations=t.map((e=>({name:e.login,id:e.installationId})));const e=this.installations.find((e=>e.name.toLowerCase()===this.owner.toLowerCase()));e&&this.changeInstallation(e)}else o&&o.length&&(this.repos=o)},getInstallations(){return fetch(this.viewerUrl).then((e=>e.json())).then(((e={})=>{const{login:t,installations:o,public_repos:r}=e;return this.parseAuthRequest({login:t,installations:o,public_repos:r})}))},getBranches(){return fetch(`${this.repoUrl}/${this.workflow.id}`).then((e=>e.json())).then((({branches:e,hashHex:t})=>{this.branches=e.map((e=>({id:e.id,name:e.head_branch}))),this.$nextTick((()=>this.changeBranch(this.branches[0]))),this.hashHex=`_${t}`}))},async getRepos(){if(!this.installation.name)return!1;const e=await fetch(this.installationUrl);this.repos=(await e.json()).repositories.map((e=>({id:e.id,name:e.name})));const t=this.repos.find((e=>e.name.toLowerCase()===this.repo.toLowerCase()));t&&this.changeRepo(t)},toggleModal(){this.modalActive=!this.modalActive},emitChange(e){this.style=f(e),console.log({emitChange:e,style:this.style})},changeInstallation(e){this.installation=e,this.installation.name&&(console.log({owner:this.owner,installationName:this.installation.name,newInstallation:e,installation:this.installation}),this.owner&&this.installation.name.toLowerCase()!==this.owner.toLowerCase()&&this.gotoInstallation(),this.getRepos())},gotoInstallation(){this.$router.push(`/${encodeURIComponent(this.installation.name)}`)},gotoRepo(){this.$router.push(`/${encodeURIComponent(this.installation.name)}/${encodeURIComponent(this.repository.name)}`)},changeRepo(e){this.repository=e,console.log({newRepo:e,repository:this.repository}),this.repository.id&&(this.repo&&this.repository.name.toLowerCase()!==this.repo.toLowerCase()?this.gotoRepo():this.getWorkFlows())},changeBranch(e){this.branch=e},changeWorkflow(e){this.workflow=e,console.log({newWf:e,workflow:this.workflow}),this.workflow.id&&this.getBranches()}}}),$t={class:"block text-gray-700"},At={class:"relative flex-grow my-0 mx-auto w-auto",style:{"max-width":"1344px"}},Lt={class:"justify-center -m-3",style:{"justify-content":"center"}},Et={ref:"container",class:"px-1 pt-4 pb-4 mx-auto mb-0 -mt-8 max-w-3xl ",style:{"flex-basis":"0px"}},St={class:"col-span-8 sm:col-span-4"},jt={class:"col-span-8 sm:col-span-4"},Mt={class:"col-span-8 sm:col-span-4"},It={class:"col-span-8 sm:col-span-4"},Bt={class:"col-span-8 sm:col-span-4"},zt=["action"],Pt=[r("input",{type:"hidden",value:"logout"},null,-1)];Ut.render=function(o,s,a,n,c,d){const u=we,h=Fe,p=Ze,m=et,g=ct,f=Rt;return e(),t("section",$t,[r("div",At,[i(u),r("div",Lt,[r("div",Et,[i(m,null,{default:l((()=>[i(h,{login:o.login,"oauth-url":o.oauthUrl,"install-url":o.installUrl,onClick:o.logout},null,8,["login","oauth-url","install-url","onClick"]),r("div",St,[i(p,{ref:"installations",choices:o.installations,current:o.installation,empty:"No installation selected",label:"Installation",tabindex:"0",onChange:o.changeInstallation},null,8,["choices","current","onChange"])])])),_:1}),i(m,null,{default:l((()=>[r("div",jt,[i(p,{ref:"repos",choices:o.repos,current:o.repository,empty:"No repository selected",label:"Repository",tabindex:"1",onChange:o.changeRepo},null,8,["choices","current","onChange"])]),r("div",Mt,[i(p,{ref:"workflows",choices:o.workflows,current:o.workflow,empty:"No workflow selected",label:"Workflow",tabindex:"2",onChange:o.changeWorkflow},null,8,["choices","current","onChange"])]),r("div",It,[i(p,{ref:"branches",choices:o.branches,current:o.branch,empty:"No branch selected",label:"Branch",tabindex:"3",onChange:o.changeBranch},null,8,["choices","current","onChange"])]),r("div",Bt,[i(p,{choices:o.styles,current:o.style,empty:"No style selected",label:"Badge Style",tabindex:"4",onChange:o.emitChange},null,8,["choices","current","onChange"])])])),_:1}),i(g,{href:o.gotoURL,src:o.badgeURL},null,8,["href","src"]),i(f,{ref:"markdown","html-source":o.htmlSource,"markdown-source":o.markdownSource},null,8,["html-source","markdown-source"]),r("form",{ref:"logoutform",action:o.logoutUrl,method:"post"},Pt,8,zt)],512)])])])};var Dt=s({setup:o=>(o,r)=>{const s=D,a=Ut;return e(),t(A,null,[i(s),i(a,{api_url:n("https://cf-badger.com")},null,8,["api_url"])],64)}}),Ht={};"function"==typeof Ht&&Ht(Dt);const Tt=[{name:"home",path:"/",component:Dt,props:!0,meta:{layout:"home"}},{name:"about",path:"/about",component:()=>P((()=>import("./about.a50812c2.js")),["assets/about.a50812c2.js","assets/vendor.eb742c19.js"]),props:!0,meta:{propsGetter:!1}},{name:"README",path:"/readme",component:()=>P((()=>import("./README.6d583102.js")),["assets/README.6d583102.js","assets/vendor.eb742c19.js"]),props:!0,meta:{propsGetter:!1}},{name:"installation-name",path:"/:installation/:name",component:()=>P((()=>import("./[name].e61df34a.js")),["assets/[name].e61df34a.js","assets/vendor.eb742c19.js"]),props:!0},{name:"installation",path:"/:installation",component:()=>P((()=>import("./index.901e0293.js")),["assets/index.901e0293.js","assets/vendor.eb742c19.js"]),props:!0},{name:"all",path:"/:all(.*)*",component:()=>P((()=>import("./[...all].3ed168ed.js")),["assets/[...all].3ed168ed.js","assets/vendor.eb742c19.js"]),props:!0,meta:{layout:404,propsGetter:!1}}];var Vt="/images/cf-workers-badge.svg",Ot="/images/cf-pages-badge.svg";const Wt={},Ft={class:"mx-auto px-6 pt-12 pb-6 text-gray-700 bg-gray-100 w-full"},Gt=[r("div",{class:"relative flex-grow my-0 mx-auto w-auto text-center l:max-w-2lg"},[r("div",{class:"justify-center -m-3 w-full lg:w-4/5 mx-auto",style:{"justify-content":"center"}},[r("div",{class:"flex-grow flex-shrink  p-3 my-0 mx-auto   lg:max-w-4xl lg:flex-none ",style:{"flex-basis":"0px"}},[r("p",{class:"p-0 px-12 mx-0 mb-0 -mt-4  text-sm leading-5 text-justify"},[g(" Please note that, if you intend to display workflow status badges for public repos, you can use Shields.io direcly. Just look in their "),r("a",{href:"https://shields.io/category/build",class:"text-orange-600 no-underline cursor-pointer hover:text-gray-800"},"Builds Category"),g(" for Github Workflows section. ")]),r("div",{class:"  block flex-grow flex flex-shrink pt-3    my-0 mx-auto",style:{"flex-basis":"0px"}},[r("div",{class:"block flex-grow flex-shrink py-3 my-0 mx-auto",style:{"flex-basis":"0px"}},[r("a",{class:"inline-flex relative justify-center items-center h-8 leading-normal text-gray-800 no-underline align-top bg-white rounded border border-gray-400 border-solid shadow-none appearance-none cursor-pointer select-none whitespace-no-wrap hover:border-gray-500 hover:text-gray-800 focus:border-blue-600 focus:text-gray-800",href:"https://workers.cloudflare.com"},[r("span",{style:{"vertical-align":"super","font-weight":"bold"},class:""},"built-with   "),r("img",{style:{display:"inline"},src:"/images/cf-workers-badge.svg",class:"inline max-w-full h-auto"})])]),r("div",{class:"block flex-grow flex-shrink py-3 my-0 mx-auto  ",style:{"flex-basis":"0px"}},[r("a",{class:"inline-flex relative justify-center items-center h-8 leading-normal text-gray-800 no-underline align-top bg-white rounded border border-gray-400 border-solid shadow-none appearance-none cursor-pointer select-none whitespace-no-wrap hover:border-gray-500 hover:text-gray-800 focus:border-blue-600 focus:text-gray-800",href:"https://pages.cloudflare.com"},[r("span",{style:{"vertical-align":"super","font-weight":"bold"},class:""}," and   "),r("img",{style:{display:"inline"},src:"/images/cf-pages-badge.svg",class:"inline max-w-full h-auto"})])])])])]),r("p",{style:{"text-align":"center","padding-top":"2em","font-size":"0.9em"}},[r("strong",null,"CF-Badger"),g("'s was inspired by "),r("a",{href:"https://actions-badge.atrox.dev/",class:"text-orange-600 no-underline cursor-pointer hover:text-gray-800"},"Atrox's Actions Badge"),g(". ")])],-1)];Wt.render=function(o,r){return e(),t("footer",Ft,Gt)};const Nt={},qt={class:"px-4 py-10 text-center text-gray-700 dark:text-gray-200"},Yt=r("div",{class:"mt-5 mx-auto text-center opacity-25 text-sm"}," [Default Layout] ",-1);Nt.render=function(o,r){const s=E("router-view"),a=Wt;return e(),t("main",qt,[i(s,S(j(o.$attrs)),null,16),i(a),Yt])};const Jt={404:()=>P((()=>import("./404.655945d2.js")),["assets/404.655945d2.js","assets/vendor.eb742c19.js"]),default:Nt,home:()=>P((()=>import("./home.5a46494e.js")),["assets/home.5a46494e.js","assets/vendor.eb742c19.js"])};var Kt=s({setup(t){const o="CF-Badger",r="CF-Badger lets you safely publish status badger for private Github repos";return M({title:o,meta:[{name:"description",content:r},{name:"description",content:r},{property:"og:title",content:o},{property:"og:image",content:"https://cf-badger.com/cf-badger-round-corners.svg"}]}),(t,o)=>{const r=E("router-view");return e(),a(r)}}});const Qt=Tt.map((e=>{var t;return{path:e.path,component:Jt[(null==(t=e.meta)?void 0:t.layout)||"default"],children:[e]}}));console.log({env:{VITE_API_URL:"https://cf-badger.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}}),I(Kt,{routes:Qt,base:({url:e})=>(console.log({url:e,env:{VITE_API_URL:"https://cf-badger.com",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}}),"/")},(async e=>{console.log({VITEDGE_API_URL:{}.VITEDGE_API_URL,VITE_API_URL:"https://cf-badger.com"})}));export{Ut as B,Vt as _,Ot as a,D as b,J as c,Wt as d};
