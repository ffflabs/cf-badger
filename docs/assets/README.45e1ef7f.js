import{_ as e,a as t}from"./index.31876c0f.js";import{o,c as s,b as l,j as r}from"./vendor.eb742c19.js";const a={class:"prose prose-sm m-auto text-left"},i=[l("p",null,[r("         "),l("a",{href:"https://cf-badger.com/"},[l("img",{src:"/assets/logo.c91e3ad8.svg",alt:"Logo"})]),r("          ")],-1),l("p",null,[l("a",{href:"https://cf-badger.com"},"Cf-Badger"),r(" generates short urls displaying current status (actually, delayed up to 5 min) of your private repos workflows without exposing but the bare minimum of your code.")],-1),l("p",{align:"center",style:{"text-align":"center"}},[l("a",{href:"https://workers.cloudflare.com/"},[l("img",{src:e})]),r("   "),l("a",{href:"https://github.com/ffflabs/cf-badger/actions/workflows/tests.yml"},[l("img",{src:"https://cf-badger.com/badger/9c6530e5f3abdb0f6247/endpoint.svg?branch=master&style=for-the-badge"})]),r("  "),l("a",{href:"https://pages.cloudflare.com/"},[l("img",{src:t})]),l("img",{src:"https://img.shields.io/static/v1?label=Made%20With&message=TypeScript&color=f0f0f0&labelColor=3974c0&style=for-the-badge&logo=typescript&logoColor=white&messageColor=3974c0"}),l("div",{align:"center",style:{"text-align":"center"}},[r("CF-Badger is my project for the "),l("a",{href:"https://challenge.developers.cloudflare.com/"},"Cloudflare Developer Summer Challenge")])],-1),l("h2",null,"FAQ",-1),l("h3",null,"💥 Private Repos vs Public Badges",-1),l("p",null,"Status badges are awesome. What’s not to love about a self contained, colorful piece of relevant info?",-1),l("p",null,"The visual cue you get from a status badge conveys valuable info well beyond the specific concerns of development teams. However, it isn’t possible to:",-1),l("ul",null,[l("li",null,"make them visible to other people in your company unless they are given permission over the repo itself."),l("li",null,"embed them on wikis or dashboards, unless the repo is made public"),l("li",null,"having an accurate preview your README.md"),l("li",null,"use Shields.io’s excellent service")],-1),l("p",null,"Basically, any road that aims to preserve the code’s private nature leads to broken badge images.",-1),l("p",{align:"center",style:{"text-align":"center"}},[l("img",{src:"/images/before_and_after200.svg"}),l("div",{align:"center",style:{"font-size":"0.8em","text-align":"center"}},"How to get from broken to flawless?")],-1),l("hr",null,null,-1),l("h5",null,[r("🎉 Enter "),l("strong",null,"CF-Badger"),r(" !!")],-1),l("p",null,[r("CF-Badger will present you with a brief form (which, by the way, is hosted on "),l("a",{href:"https://pages.cloudflare.com"},"Cloudflare Pages"),r(") whose final output is a short url to your desired status badge, updated every 5 minutes.")],-1),l("p",null,"Each input control of this form is eventually filled with the available options, so you won’t need to guess what goes where.",-1),l("p",{align:"center"},[l("img",{src:"/images/sshot.png"})],-1),l("hr",null,null,-1),l("h3",null,"🎯 How?",-1),l("p",null,[r("We request the outcome of your workflows directly to Github’s API, on your behalf. To do this, "),l("a",{href:"https://github.com/apps/cf-badger"},"CF-Badger’s Github App"),r(" needs to be enabled on a per-repo basis, which in turn will give us read-only access to your workflow results.")],-1),l("p",null,[r("This result is formatted in compliance to Shields.io schema, and provided as parameter to "),l("a",{href:"https://shields.io/endpoint"},"Shields.io endpoint API"),r(", (🙌 without which CF-Badger wouldn’t work).")],-1),l("p",null,"Finally, we’ll generate and provide you with a shortened URL to the computed status badge",-1),l("p",{align:"center"},[l("img",{src:"/images/markdown.png"})],-1),l("h2",null,[l("strong",null,"🔐 Security Concerns")],-1),l("p",null,[r("CF-Badger was inspired on "),l("strong",null,[l("a",{href:"https://actions-badge.atrox.dev/"},"Atrox’s Github Actions Badge")]),r(". Although I loved it, it felt too limited to be constrained to just one workflow per repo, which you cannot pick, btw. More important, it needs you to enter a personal access token with "),l("code",null,"repo"),r(" privileges, which in turn is part of the shareable URL. That was too risky…")],-1),l("p",null,"We shaped CF-Badger to connect to Github through a Github App, because they can request very specific and, in this case, harmless permissions.",-1),l("p",null,[r("The app requests read only access to repo actions, which is "),l("em",null,"the bare minimum needed to retrieve your workflow statuses"),r(". We won’t be able to read any other kind of restricted info, much less change anything.")],-1),l("p",{align:"center"},[l("img",{src:"/images/permissions.png"})],-1),l("p",null,[r("The access tokens used by the app has a short lived lifetime and revoking the app’s permission would effectively cut us out when it does. The temporary token we use is stored internally on the persistent storage of a "),l("a",{href:"https://blog.cloudflare.com/introducing-workers-durable-objects/"},"Durable Object"),r(" and it’s never exposed to third parties nor used other than to query Github’s API on your behalf.")],-1),l("p",null,[r("If your use case for CF-Badger involves public repos, you might want to use Shields.io direcly. Just look in their "),l("a",{href:"https://shields.io/category/build"},"Builds Category"),r(" for “Github Workflows” section.")],-1),l("h3",null,"🤷 Why do you address yourself as “we” if you’re the only contributor?",-1),l("p",null,"It kinda makes the project sound like a serious initiative.",-1),l("hr",null,null,-1),l("h2",null,"🏆 Acknowledgements",-1),l("p",null,[l("strong",null,[l("a",{href:"https://www.cloudflare.com/products/workers"},"Cloudflare Workers")]),r(", along with "),l("a",{href:"https://www.cloudflare.com/products/workers-kv/"},"Workers KV"),r(", "),l("a",{href:"https://pages.cloudflare.com/"},"Cloudflare Pages"),r(" and "),l("a",{href:"https://blog.cloudflare.com/introducing-workers-durable-objects/"},"Durable Objects"),r(". This is the blazing fast platform on which CF-Badger runs and replicates over 200+ locations worldwide. Did I mention CF-Badger is my project for the "),l("strong",null,[l("a",{href:"https://challenge.developers.cloudflare.com/"},"Cloudflare Developer Summer Challenge")]),r("?")],-1),l("p",null,[l("strong",null,[l("a",{href:"https://shields.io"},"Shields.io")]),r(", whose service renders actual badges and without which CF-Badger would generate broken images, which would be ironic.")],-1),l("p",null,[l("strong",null,[l("a",{href:"https://actions-badge.atrox.dev/"},"Atrox’s Github Actions Badge")]),r(", on which CF-Badger was inspired.")],-1),l("p",null,[l("strong",null,[l("a",{href:"https://vitedge.js.org"},"Vitedge")]),r(", which is used to build the UI")],-1),l("p",null,[l("strong",null,[l("a",{href:"https://miniflare.dev/"},"Miniflare")]),r(", whithout which developing is a less likeable experience overall")],-1)],n={setup:(e,{expose:t})=>(t({frontmatter:{}}),(e,t)=>(o(),s("div",a,i)))};export{n as default};
